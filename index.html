<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>데이터 현황 및 AI 예측</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; margin: 20px; background-color: #f8f9fa; color: #212529; }
        .container { max-width: 1000px; margin: 0 auto; background-color: #ffffff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.05); }
        h1 { color: #007bff; border-bottom: 2px solid #007bff; padding-bottom: 10px; margin-bottom: 25px; }
        h2 { color: #343a40; margin-top: 30px; margin-bottom: 15px; }
        .chart-container { margin-bottom: 40px; }
        /* 테이블 스타일 */
        table { width: 100%; max-width: 1000px; border-collapse: separate; border-spacing: 0; border: 1px solid #ddd; font-size: 14px; min-width: 300px; border-radius: 8px; overflow: hidden; margin-top: 20px; }
        thead th { padding: 14px; background-color: #f1f1f1; border-right: 1px solid #ccc; text-align: left; color: #333; }
        tbody td { padding: 12px; border-top: 1px solid #eee; border-right: 1px solid #eee; text-align: right; background-color: white; color: #343a40; }
        tbody tr:last-child td { border-bottom: none; }
        .plus { color: #dc3545; font-weight: 600; }
        .minus { color: #007bff; font-weight: 600; }
        .zero { color: #6c757d; font-weight: 600; }
        .first-col { text-align: left !important; color: #343a40; font-weight: normal; }
        .value-col { font-weight: bold; color: #333; }
        
        /* AI 예측 스타일 */
        .ai-box { white-space: pre-wrap; color: #007bff; font-weight: bold; padding: 15px; border: 1px dashed #007bff; border-radius: 6px; background-color: #f0f8ff; line-height: 1.6; margin-bottom: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>자동 업데이트 데이터 차트 및 분석</h1>
        <p>최종 업데이트 시간: <span id="update-time"></span></p>

        <div class="chart-container">
            <h2>데이터 추이 차트</h2>
            <canvas id="myChart"></canvas>
        </div>

        <div style="margin-bottom: 20px;">
            <h2>AI 예측 결과</h2>
            <div class="ai-box">출시 5일차에 해당하는 10월 31일과 11월 1일의 매출 추이 데이터는 지속적인 우상향을 보이며, MMORPG 장르 특성상 매우 건강한 초기 성장세를 나타내고 있습니다. 서비스 개시 5일차인 금일(11월 1일) 21시 1분까지 누적 매출은 3,626,900을 기록했으며, 이를 바탕으로 오늘 하루(11월 1일)의 총 예상 매출은 837,000으로 전망됩니다. 이 추세가 유지된다고 가정할 경우, 11월 총 예상 매출은 25,110,000 수준으로 예측됩니다.<br><br>현재의 긍정적인 추세를 극대화하고 잠재적 리스크를 관리하기 위해 몇 가지 조치가 필요합니다. 먼저, 11월 1일 20시 경에 잠시 발생했던 매출 정체 구간에 대한 원인 분석(서버 이슈, 특정 지역/시간대 이용자 이탈, 프로모션 부재 등)을 통해 운영상의 잠재적 문제를 파악해야 합니다. 또한, 신규 유저의 이탈을 방지하고 잔존율을 높이기 위한 초반부 게임 콘텐츠 및 보상 이벤트 강화, 핵심 과금 상품의 효율성 분석 및 최적화가 중요합니다. 마지막으로, 글로벌 180개국 서비스인 만큼 지역별 매출 및 트래픽 데이터를 면밀히 분석하여, 성과가 좋은 지역에는 마케팅을 강화하고 부진한 지역에는 맞춤형 전략을 수립하는 노력이 필요합니다.</div>
        </div>
        
        <h2>일별 요약 데이터</h2>
        <table style="width: 100%; max-width: 1000px; border-collapse: separate; border-spacing: 0; border: 1px solid #ddd; font-size: 14px; min-width: 300px; border-radius: 8px; overflow: hidden; margin-top: 20px;"><thead>    <tr>        <th style="padding: 14px; background-color: #f1f1f1; border-right: 1px solid #ccc; text-align: left; color: #333;">날짜</th>        <th style="padding: 14px; background-color: #f1f1f1; border-right: 1px solid #ccc; text-align: right; color: #333;">값</th>        <th style="padding: 14px; background-color: #f1f1f1; text-align: right; color: #333;">변화</th>    </tr></thead><tbody></tbody></table>

        <h2 style="margin-top: 40px;">시간별 상세 데이터</h2>
        <table style="width: 100%; max-width: 1000px; border-collapse: separate; border-spacing: 0; border: 1px solid #ddd; font-size: 14px; min-width: 300px; border-radius: 8px; overflow: hidden;"><thead>    <tr>        <th style="padding: 14px; background-color: #f1f1f1; border-right: 1px solid #ccc; text-align: left; color: #333;">시간</th>        <th style="padding: 14px; background-color: #f1f1f1; border-right: 1px solid #ccc; text-align: right; color: #333;">값</th>        <th style="padding: 14px; background-color: #f1f1f1; text-align: right; color: #333;">변화</th>    </tr></thead><tbody></tbody></table>
        
        <script>
            // 차트 데이터 삽입 (토큰 추가)
            const dataSet = JSON.parse('{    "raw_data_string": "2025-10-31 20:24:04 KST : 2,769,600
2025-10-31 21:58:17 KST : 2,835,900
2025-10-31 22:39:15 KST : 2,848,500
2025-10-31 23:31:45 KST : 2,893,100
2025-11-01 00:30:13 KST : 2,925,600
2025-11-01 01:38:05 KST : 2,965,100
2025-11-01 02:28:21 KST : 3,039,400
2025-11-01 03:41:27 KST : 3,087,000
2025-11-01 04:23:18 KST : 3,150,300
2025-11-01 05:32:33 KST : 3,179,000
2025-11-01 06:09:05 KST : 3,201,000
2025-11-01 07:43:10 KST : 3,216,000
2025-11-01 08:25:36 KST : 3,235,300
2025-11-01 10:02:47 KST : 3,280,000
2025-11-01 11:11:03 KST : 3,298,800
2025-11-01 14:30:00 KST : 3,388,600
2025-11-01 15:37:06 KST : 3,446,400
2025-11-01 16:56:10 KST : 3,475,700
2025-11-01 17:17:10 KST : 3,501,400
2025-11-01 18:27:55 KST : 3,545,100
2025-11-01 20:04:13 KST : 3,600,600
2025-11-01 20:10:32 KST : 3,600,600
2025-11-01 20:18:51 KST : 3,600,600
2025-11-01 20:22:54 KST : 3,600,600
2025-11-01 20:27:11 KST : 3,600,600
2025-11-01 20:31:29 KST : 3,600,600
2025-11-01 20:36:13 KST : 3,600,600
2025-11-01 20:45:21 KST : 3,600,600
2025-11-01 20:54:42 KST : 3,600,600
2025-11-01 21:01:23 KST : 3,626,900",    "labels": ["2025-10-31", "2025-10-31", "2025-10-31", "2025-10-31", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01", "2025-11-01"],    "values": [20:24:04 KST : 2769600,21:58:17 KST : 2835900,22:39:15 KST : 2848500,23:31:45 KST : 2893100,00:30:13 KST : 2925600,01:38:05 KST : 2965100,02:28:21 KST : 3039400,03:41:27 KST : 3087000,04:23:18 KST : 3150300,05:32:33 KST : 3179000,06:09:05 KST : 3201000,07:43:10 KST : 3216000,08:25:36 KST : 3235300,10:02:47 KST : 3280000,11:11:03 KST : 3298800,14:30:00 KST : 3388600,15:37:06 KST : 3446400,16:56:10 KST : 3475700,17:17:10 KST : 3501400,18:27:55 KST : 3545100,20:04:13 KST : 3600600,20:10:32 KST : 3600600,20:18:51 KST : 3600600,20:22:54 KST : 3600600,20:27:11 KST : 3600600,20:31:29 KST : 3600600,20:36:13 KST : 3600600,20:45:21 KST : 3600600,20:54:42 KST : 3600600,21:01:23 KST : 3626900]}');

            // 마지막 업데이트 시간 표시
            // 데이터셋 레이블에서 마지막 요소를 추출하여 업데이트 시간을 표시합니다.
            const lastDataPoint = dataSet.labels[dataSet.labels.length - 1];
            document.getElementById('update-time').textContent = lastDataPoint;

            // Chart.js 설정
            const ctx = document.getElementById('myChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: dataSet,
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.y.toLocaleString() + ' 원';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString() + ' 원';
                                }
                            }
                        }
                    }
                }
            });
        </script>
    </div>
</body>
</html>
